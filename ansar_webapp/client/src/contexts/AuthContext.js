_=(0,N.qB)(),V=U.setComposeAction;o.useEffect((()=>{w||d({type:"FLUID_COMMAND_APIS",payload:V})}),[V,d,w]);const Z=o.useMemo((()=>e(n)),[e,n]);return u&&b.current===u?A.componentUrl&&A.sourceType&&!P?(0,s.Y)(D.l,{componentUrl:A.componentUrl,contextType:"NonEmbed",convId:h,renderOptions:F,resetComponent:A.resetComponent,sendComponent:i,sourceType:A.sourceType,updateUrl:Y,dequeuePermissionsBanner:I?.pasteGrantPermissionsEnabled?C:void 0,uploadScope:p.SY.Personal}):U.composeAction&&!w?(0,s.Y)(R.Q,{composeAction:U.composeAction,contextType:"NonEmbed",convId:h,fileType:"office",renderOptions:_,resetComponent:U.resetComponent,sendComponent:i,updateUrl:Y,uploadScope:p.SY.Personal,settingsCategoryOverride:f}):Z:(U.composeAction&&!w&&U.setComposeAction(void 0),(!P&&A.componentUrl||A.sourceType)&&A.resetComponent(!1,!1),b.current=u,Z)}));var Z=t(870144),j=t(189470),G=t(556456),W=t(48174),J=t(590232),K=t(926638),X=t(214286),z=t(934775);const ee=o.memo((e=>{const{convId:n="",composeFeatureSettings:t,replyChainId:b,isCommentStream:y,isMeeting:S,isEditing:f}=e,{isSideChat:v}=(0,X.vd)(),k=!!v&&!!b&&!S,I=o.useRef(),{user:T,coreSettings:w}=(0,r.u